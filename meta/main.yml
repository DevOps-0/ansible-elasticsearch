---
dependencies:
  - role: meta/repository
    repository_key: '0xd27d666cd88e42b4'
    repository_url: 'deb http://packages.elasticsearch.org/elasticsearch/1.2/debian stable main'
  - role: package/java
  - role: meta/monitor
    monitor_name: elasticsearch
    monitor_group: wcmetrics
    monitor_user: "{{ elasticsearch_user }}"
    monitor_pidfile: "{{ elasticsearch_pidfile_path }}"

  - role: meta/logging
    logging_name: elasticsearch
    logging_group: wcmetrics
    logging_user: "{{ elasticsearch_user }}"
    logging_files:
      - tags:
          - service
        path: "{{ elasticsearch_log_path }}"
